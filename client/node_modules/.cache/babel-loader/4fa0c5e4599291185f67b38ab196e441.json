{"ast":null,"code":"import _slicedToArray from \"/Users/tiffanyshown/Desktop/GIT/Working/Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tiffanyshown/Desktop/GIT/Working/Project-3/client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport LoginForm from \"./pages/Auth/LoginForm\";\nimport SignupForm from \"./pages/Auth/SignupForm\";\nimport Nav from \"./components/Nav\";\nimport Footer from \"./components/Footer\";\nimport Books from './pages/Books';\nimport Detail from \"./pages/Detail\";\nimport NoMatch from \"./pages/NoMatch\";\nimport ProfilePage from \"./pages/businesspage/businesspage\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport AUTH from \"./utils/AUTH\";\nimport BusinessForm from \"./pages/BusinessForm\";\nimport ContactPage from \"./pages/ContactPage\";\nimport Home from \"./pages/Home\";\nimport SearchResult from \".\";\n\nfunction App() {\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loggedIn = _useState2[0],\n      setLoggedIn = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  useEffect(function () {\n    AUTH.getUser().then(function (response) {\n      // console.log(response.data);\n      if (!!response.data.user) {\n        setLoggedIn(true);\n        setUser(response.data.user);\n      } else {\n        setLoggedIn(false);\n        setUser(null);\n      }\n    });\n    return function () {\n      setLoggedIn(false);\n      setUser(null);\n    };\n  }, []);\n\n  var logout = function logout(event) {\n    event.preventDefault();\n    AUTH.logout().then(function (response) {\n      // console.log(response.data);\n      if (response.status === 200) {\n        setLoggedIn(false);\n        setUser(null);\n      }\n    });\n  };\n\n  var login = function login(username, password) {\n    AUTH.login(username, password).then(function (response) {\n      console.log(response.data);\n\n      if (response.status === 200) {\n        // update the state\n        setLoggedIn(true);\n        setUser(response.data.user);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, loggedIn && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    user: user,\n    logout: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Books,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/businessForm\",\n    component: BusinessForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/contact\",\n    component: ContactPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/home\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/results\",\n    component: SearchResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/books/:id\",\n    component: Detail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/businessForm\",\n    component: BusinessForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/profilepage/:id\",\n    component: ProfilePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    component: NoMatch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  })))), !loggedIn && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-wrapper\",\n    style: {\n      paddingTop: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(LoginForm, {\n        login: login,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 50\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/books\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(LoginForm, {\n        user: login,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 30\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/signup\",\n    component: SignupForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/profilepage\",\n    component: ProfilePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tiffanyshown/Desktop/GIT/Working/Project-3/client/src/App.js"],"names":["React","useState","useEffect","Route","Switch","LoginForm","SignupForm","Nav","Footer","Books","Detail","NoMatch","ProfilePage","AUTH","BusinessForm","ContactPage","Home","SearchResult","App","loggedIn","setLoggedIn","user","setUser","getUser","then","response","data","logout","event","preventDefault","status","login","username","password","console","log","paddingTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport LoginForm from \"./pages/Auth/LoginForm\";\nimport SignupForm from \"./pages/Auth/SignupForm\";\nimport Nav from \"./components/Nav\";\nimport Footer from \"./components/Footer\";\nimport Books from './pages/Books';\nimport Detail from \"./pages/Detail\";\nimport NoMatch from \"./pages/NoMatch\";\nimport ProfilePage from \"./pages/businesspage/businesspage\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport AUTH from \"./utils/AUTH\";\nimport BusinessForm from \"./pages/BusinessForm\";\nimport ContactPage from \"./pages/ContactPage\";\nimport Home from \"./pages/Home\";\nimport SearchResult from \".\"\n\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    AUTH.getUser().then((response) => {\n      // console.log(response.data);\n      if (!!response.data.user) {\n        setLoggedIn(true);\n        setUser(response.data.user);\n      } else {\n        setLoggedIn(false);\n        setUser(null);\n      }\n    });\n\n    return () => {\n      setLoggedIn(false);\n      setUser(null);\n    };\n  }, []);\n\n  const logout = (event) => {\n    event.preventDefault();\n\n    AUTH.logout().then((response) => {\n      // console.log(response.data);\n      if (response.status === 200) {\n        setLoggedIn(false);\n        setUser(null);\n      }\n    });\n  };\n\n  const login = (username, password) => {\n    AUTH.login(username, password).then((response) => {\n      console.log(response.data);\n      if (response.status === 200) {\n        // update the state\n        setLoggedIn(true);\n        setUser(response.data.user);\n      }\n    });\n  };\n\n  return (\n    <div className=\"App\">\n      {loggedIn && (\n        <div>\n          <Nav user={user} logout={logout} />\n          <div className=\"main-view\">\n            <Switch>\n              <Route exact path=\"/\" component={Books} />\n              <Route exact path=\"/businessForm\" component={BusinessForm} />\n              <Route exact path=\"/contact\" component={ContactPage} />\n              <Route exact path=\"/home\" component={Home} />\n              <Route exact path=\"/results\" component={SearchResult} />\n              <Route exact path=\"/books/:id\" component={Detail} />\n              <Route exact path=\"/businessForm\" component={BusinessForm} />\n              <Route exact path=\"/profilepage/:id\" component={ProfilePage} />\n              <Route component={NoMatch} />\n            </Switch>\n          </div>\n        </div>\n      )}\n      {!loggedIn && (\n        <div className=\"auth-wrapper\" style={{ paddingTop: 40 }}>\n          <Route exact path=\"/\" component={() => <LoginForm login={login} />} />\n          <Route\n            exact\n            path=\"/books\"\n            component={() => <LoginForm user={login} />}\n          />\n          <Route exact path=\"/signup\" component={SignupForm} />\n          <Route exact path=\"/profilepage\" component={ProfilePage} />\n        </div>\n      )}\n      <div>\n        <Footer />\n      </div>\n    \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}